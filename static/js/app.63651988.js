(function(e){function t(t){for(var o,a,l=t[0],i=t[1],d=t[2],u=0,b=[];u<l.length;u++)a=l[u],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&b.push(c[a][0]),c[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);s&&s(t);while(b.length)b.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var i=n[a];0!==c[i]&&(o=!1)}o&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},c={app:0},r=[];function a(e){return l.p+"static/js/"+({}[e]||e)+"."+{"chunk-2d0a3196":"2dc5202b","chunk-2d0a3577":"d49dd877","chunk-2d0a40c8":"22ba3a35","chunk-2d0a43df":"e87f4ee8","chunk-2d0a4bbf":"e4b59008","chunk-2d0aa90c":"da8bb1b7","chunk-2d0aab07":"c5b38383","chunk-2d0abc00":"85b6de43","chunk-2d0ae937":"1dc20200","chunk-2d0aeb45":"30e41831","chunk-2d0af08c":"8bfc3337","chunk-2d0afa49":"8be77e90","chunk-2d0b1fd5":"de62ab2d","chunk-2d0b21d7":"80421c11","chunk-2d0b2762":"ade1bc3f","chunk-2d0b2b36":"25166468","chunk-2d0b6187":"cad2285f","chunk-2d0ba136":"f4db86fb","chunk-2d0bb267":"b7fee88c","chunk-2d0bcec1":"9387af57","chunk-2d0bdf38":"f3f42b2b","chunk-2d0bff92":"18872557","chunk-2d0c0494":"77dd28fa","chunk-2d0c0a09":"5859b254","chunk-2d0c1ed0":"7fc4eb72","chunk-2d0c4313":"44c897a0","chunk-2d0c46d1":"e54af410","chunk-2d0c4a95":"de560299","chunk-2d0c512b":"d14ea2cb","chunk-2d0c86e3":"8426e8c0","chunk-2d0c8f4c":"fd54a813","chunk-2d0cf16e":"ca69e096","chunk-2d0d056d":"5f8e5612","chunk-2d0d0645":"332defb0","chunk-2d0d2f22":"8c085b83","chunk-2d0d61fd":"e655ebd2","chunk-2d0d7e63":"211649e0","chunk-2d0dda4e":"c83fb4ec","chunk-2d0de971":"53808090","chunk-2d0e1b57":"410577ab","chunk-2d0e1fbe":"fb479130","chunk-2d0e22d6":"e9258420","chunk-2d0e4fe5":"c808ba71","chunk-2d0e542a":"d4c2210e","chunk-2d0e57ec":"abe5dc3a","chunk-2d0e5b34":"9cdfc939","chunk-2d0e6553":"1db13875","chunk-2d0e6c86":"d556fc8b","chunk-2d0ea098":"1c1a63b4","chunk-2d0f0a11":"9f75f0ff","chunk-2d208ac5":"1b947dcc","chunk-2d208bdf":"6b8d45bf","chunk-2d209408":"37ced34d","chunk-2d20eff5":"6f8ae760","chunk-2d20f745":"2b072301","chunk-2d20ff23":"9aa317e8","chunk-2d2138c7":"09676ac5","chunk-2d216f3b":"06a226d7","chunk-2d217e5b":"f64c3699","chunk-2d21b84a":"14fdfd50","chunk-2d21dcd2":"7e8363ab","chunk-2d21f327":"d4a7a131","chunk-2d2214b3":"09d0507d","chunk-2d221799":"9ae3b728","chunk-2d221814":"c6889716","chunk-2d221a34":"a72781ab","chunk-2d22502a":"8f7c7879","chunk-2d226775":"bd4cab4e","chunk-2d228ca6":"7b3f5c28","chunk-2d229411":"a80679fe","chunk-2d2295e9":"da2ae697","chunk-2d22c171":"dbd4c691","chunk-2d22c2b8":"29707b7f","chunk-2d22ca58":"5a3d60f1","chunk-2d2311f7":"aae84ba6","chunk-2d2371be":"b1f97ec8","chunk-2d237ee7":"a47eae40","chunk-2d238465":"7c7aca0e","chunk-7532b3ea":"d1b6d9b4","chunk-7713c3d7":"c14c52e6"}[e]+".js"}function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n=c[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=c[e]=[t,o]}));t.push(n[2]=o);var r,i=document.createElement("script");i.charset="utf-8",i.timeout=120,l.nc&&i.setAttribute("nonce",l.nc),i.src=a(e);var d=new Error;r=function(t){i.onerror=i.onload=null,clearTimeout(u);var n=c[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",d.name="ChunkLoadError",d.type=o,d.request=r,n[1](d)}c[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:i})}),12e4);i.onerror=i.onload=r,document.head.appendChild(i)}return Promise.all(t)},l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/json-schema-editor/",l.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=d;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56ac":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),c=n("c3a1"),r=(n("7437"),n("e9c4"),function(e){return Object(o["pushScopeId"])("data-v-a055039a"),e=e(),Object(o["popScopeId"])(),e}),a=r((function(){return Object(o["createElementVNode"])("a",{href:"https://github.com/TaitChan",class:"github-corner","aria-label":"View source on GitHub"},[Object(o["createElementVNode"])("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#409EFF",color:"#fff",position:"absolute",top:"0",border:"0",right:"0"},"aria-hidden":"true"},[Object(o["createElementVNode"])("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),Object(o["createElementVNode"])("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},class:"octo-arm"}),Object(o["createElementVNode"])("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",class:"octo-body"})])],-1)})),l=Object(o["createTextVNode"])("Json-Schema-Editor Demo"),i=Object(o["createTextVNode"])("©TaitChan");function d(e,t,n,c,r,d){var u=Object(o["resolveComponent"])("el-header"),s=Object(o["resolveComponent"])("json-schema-editor-rich"),b=Object(o["resolveComponent"])("el-card"),p=Object(o["resolveComponent"])("el-col"),h=Object(o["resolveComponent"])("el-row"),f=Object(o["resolveComponent"])("el-main"),m=Object(o["resolveComponent"])("el-footer"),j=Object(o["resolveComponent"])("el-container");return Object(o["openBlock"])(),Object(o["createBlock"])(j,null,{default:Object(o["withCtx"])((function(){return[a,Object(o["createVNode"])(u,{class:"ct-header"},{default:Object(o["withCtx"])((function(){return[l]})),_:1}),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{span:16,style:{"padding-right":"10px"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{class:"ct-card"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{modelValue:r.examples,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.examples=e})},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(o["createVNode"])(p,{span:8,style:{"padding-left":"10px"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{class:"ct-card",header:"Json-Schema"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("pre",null,Object(o["toDisplayString"])(JSON.stringify(r.examples,null,4)),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,{class:"ct-footer"},{default:Object(o["withCtx"])((function(){return[i]})),_:1})]})),_:1})}var u=Object(o["createTextVNode"])(" 导入json "),s={style:{padding:"10px 0"}};function b(e,t,n,c,r,a){var l=Object(o["resolveComponent"])("el-button"),i=Object(o["resolveComponent"])("json-schema-editor"),d=Object(o["resolveComponent"])("el-tab-pane"),b=Object(o["resolveComponent"])("el-tabs"),p=Object(o["resolveComponent"])("json-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{label:"模版"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{type:"text",icon:"plus",style:{margin:"5px 0"},onClick:t[0]||(t[0]=function(e){return r.dialogVisible=!0})},{default:Object(o["withCtx"])((function(){return[u]})),_:1}),(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:r.jsonSchemaVisible,modelValue:r.myValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.myValue=e})},null,8,["modelValue"]))]})),_:1}),Object(o["createVNode"])(d,{label:"预览"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("pre",null,Object(o["toDisplayString"])(JSON.stringify(a.handlePreview(r.myValue),null,4)),1)])]})),_:1})]})),_:1}),Object(o["createVNode"])(p,{visible:r.dialogVisible,onClosed:t[2]||(t[2]=function(e){return r.dialogVisible=!1}),onSaveJsonSchema:a.saveJsonSchema},null,8,["visible","onSaveJsonSchema"])])}n("d3b7"),n("159b"),n("b64b");function p(e,t,n,c,r,a){var l=Object(o["resolveComponent"])("bbb");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(l,{modelValue:r.jsonRun,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.jsonRun=e}),view:n.view},null,8,["modelValue","view"])])}var h=n("5530"),f=(n("caad"),n("2532"),n("53ca"));function m(e){if(!e&&"object"!==Object(f["a"])(e))throw new Error("error arguments","deepClone");var t=e.constructor===Array?[]:{};return Object.keys(e).forEach((function(n){e[n]&&"object"===Object(f["a"])(e[n])?t[n]=m(e[n]):t[n]=e[n]})),t}function j(e){if("string"!=typeof e)return!1;try{var t=JSON.parse(e);return"object"==Object(f["a"])(t)&&t}catch(n){return!1}}n("a4d3"),n("e01a");var O={class:"json-schema-editor-container"},V={style:{position:"absolute",left:"-20px",top:"6px"}},k=["onClick"],v={class:"ct-row"},C={class:"right"},y={class:"left"};function g(e,t,n,c,r,a){var l=Object(o["resolveComponent"])("caret-right"),i=Object(o["resolveComponent"])("caret-bottom"),d=Object(o["resolveComponent"])("el-icon"),u=Object(o["resolveComponent"])("el-checkbox"),s=Object(o["resolveComponent"])("el-tooltip"),b=Object(o["resolveComponent"])("el-col"),p=Object(o["resolveComponent"])("el-option"),h=Object(o["resolveComponent"])("el-select"),f=Object(o["resolveComponent"])("el-input"),m=Object(o["resolveComponent"])("el-button"),j=Object(o["resolveComponent"])("el-row"),g=Object(o["resolveComponent"])("bbb",!0);return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",O,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.modelValue,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t,style:{position:"relative"}},[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",V,[Object(o["createElementVNode"])("a",{onClick:function(e){return a.handleClose(t)}},[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[e.isClosed?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0})):(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:1}))]})),_:2},1024)],8,k)],512),[[o["vShow"],"object"===e.type]]),Object(o["createElementVNode"])("div",v,[Object(o["createElementVNode"])("div",C,[Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{span:1,style:{"text-align":"center"}},{default:Object(o["withCtx"])((function(){return[e.isRoot?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,effect:"dark",content:"全选",placement:"top"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:e.required,"onUpdate:modelValue":function(t){return e.required=t},onChange:a.handleSelectAll},null,8,["modelValue","onUpdate:modelValue","onChange"])]})),_:2},1024)):(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:1,effect:"dark",content:"是否必须",placement:"top"},{default:Object(o["withCtx"])((function(){return[e.disabled?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,disabled:""})):(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,modelValue:e.required,"onUpdate:modelValue":function(t){return e.required=t}},null,8,["modelValue","onUpdate:modelValue"]))]})),_:2},1024))]})),_:2},1024),Object(o["createVNode"])(b,{span:4,style:{"padding-right":"10px"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{modelValue:e.type,"onUpdate:modelValue":function(t){return e.type=t},style:{width:"100%"},onChange:function(e){return a.handleChange(e,t)}},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.typeList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:e,value:e,label:e},null,8,["value","label"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]})),_:2},1024),Object(o["createVNode"])(b,{span:8,style:{padding:"0 6px"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:e.title,"onUpdate:modelValue":function(t){return e.title=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(o["createVNode"])(b,{span:8,style:{"padding-left":"10px"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{modelValue:e.description,"onUpdate:modelValue":function(t){return e.description=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),n.view?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,span:3,style:{"padding-left":"10px"}},{default:Object(o["withCtx"])((function(){return[e.disabled?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,effect:"dark",content:"删除节点",placement:"top"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{type:"text",icon:"delete",onClick:function(e){return a.handleDel(t)}},null,8,["onClick"])]})),_:2},1024)),"object"===e.type?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:1,effect:"dark",content:"添加子节点",placement:"top"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{onClick:function(e){return a.handleAdd(t)},type:"text",icon:"plus"},null,8,["onClick"])]})),_:2},1024)):Object(o["createCommentVNode"])("",!0)]})),_:2},1024))]})),_:2},1024)]),Object(o["createElementVNode"])("div",y,[Object(o["createVNode"])(f,{modelValue:e.prop,"onUpdate:modelValue":function(t){return e.prop=t},disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"])])]),Object(o["createVNode"])(o["Transition"],{name:"el-zoom-in-top"},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(g,{modelValue:e.children,"onUpdate:modelValue":function(t){return e.children=t}},null,8,["modelValue","onUpdate:modelValue"]),[[o["vShow"],!e.isClosed]])]})),_:2},1024)])})),128))])}n("a434");var N={name:"bbb",props:{modelValue:{type:Array,default:function(){return[]}},view:{type:Boolean,default:!1}},inject:["provideData"],data:function(){return{typeList:["string","number","integer","object","array","boolean"]}},watch:{modelValue:{handler:function(e){this.$emit("update:modelValue",e)},deep:!0},"provideData.isSelectAll":{handler:function(e){var t=this.modelValue;t.forEach((function(t){t["required"]=e}))},deep:!0}},methods:{handleSelectAll:function(e){this.provideData.isSelectAll=e},handleClose:function(e){var t=this.modelValue;t[e]["isClosed"]=!t[e]["isClosed"]},handleChange:function(e,t){var n=this.modelValue;"array"===e?(n[t]["children"]=[],n[t]["children"].push({prop:"items",type:"string",title:"",description:"",disabled:!0})):n[t]["children"]=[]},handleDel:function(e){var t=this.modelValue;t.splice(e,1)},handleAdd:function(e){var t=this.modelValue;t[e]["children"]=this.modelValue[e]["children"]||[],t[e]["children"].push({prop:"field_".concat(this.provideData.count),type:"string",title:"",description:"",required:!0}),this.provideData.count++}}},w=(n("a658"),n("6b0d")),x=n.n(w);const S=x()(N,[["render",g],["__scopeId","data-v-66ada884"]]);var E=S,_={name:"JsonSchemaEditor",components:{Bbb:E},props:{modelValue:{type:Object,default:function(){}},view:{type:Boolean,default:!1}},provide:function(){return{provideData:this.provideData}},data:function(){return{provideData:{count:1,isSelectAll:!1},jsonRun:[],jsonOut:[]}},watch:{jsonRun:{handler:function(){this.handleOutput(),this.$emit("update:modelValue",this.jsonOut)},deep:!0}},created:function(){this.handleInput()},methods:{handleInput:function(){this.jsonRun=this.getJsonRun(m({root:Object(h["a"])(Object(h["a"])({},this.modelValue),{},{disabled:!0,isRoot:!0,isSelectAll:!1})}))},handleOutput:function(){this.jsonOut=this.getJsonSchema(m(this.jsonRun)).root,delete this.jsonOut.isRoot,delete this.jsonOut.isSelectAll},getJsonRun:function(e,t){var n=this,o=[];return Object.keys(e).forEach((function(c){var r=Object(h["a"])({prop:c},e[c]);e[c].properties&&(r.children=n.getJsonRun(e[c].properties,e[c].required)),e[c].items&&(r.children=n.getJsonRun({items:Object(h["a"])(Object(h["a"])({},e[c].items),{},{disabled:!0})})),r.required=t&&t.includes(c),delete r.properties,delete r.items,o.push(r)})),o},getJsonSchema:function(e){var t=this,n={};return e.forEach((function(e){var o=[];n[e.prop]=e,e.children&&(e.children.forEach((function(e){e.required&&o.push(e.prop)})),"object"===e.type&&(n[e.prop].properties=t.getJsonSchema(e.children),n[e.prop].isClosed=!0,delete n[e.prop].isClosed),"array"===e.type&&(n[e.prop].items=t.getJsonSchema([e.children[0]]).items,delete n[e.prop].items.disabled),delete e.children,delete e.disabled),n[e.prop].required=o,"object"!==n[e.prop].type&&delete n[e.prop].required,delete n[e.prop]["prop"]})),n}}};const B=x()(_,[["render",p]]);var J=B,T={class:"ct-dialog"},A=Object(o["createTextVNode"])(" JSON "),D=Object(o["createTextVNode"])(" JSON-SCHEMA "),U=Object(o["createTextVNode"])(" 取消 "),q=Object(o["createTextVNode"])(" 确定 ");function L(e,t,n,c,r,a){var l=Object(o["resolveComponent"])("warning"),i=Object(o["resolveComponent"])("el-icon"),d=Object(o["resolveComponent"])("el-tooltip"),u=Object(o["resolveComponent"])("ct-monaco-editor"),s=Object(o["resolveComponent"])("el-tab-pane"),b=Object(o["resolveComponent"])("el-tabs"),p=Object(o["resolveComponent"])("el-button"),h=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",T,[Object(o["createVNode"])(h,{class:"ct-dialog",width:"40%",title:"导入","model-value":n.visible,onOpen:a.open,onClose:t[4]||(t[4]=function(t){return e.$emit("closed")}),"destroy-on-close":""},{footer:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{icon:"circle-close",onClick:t[3]||(t[3]=function(t){return e.$emit("closed")})},{default:Object(o["withCtx"])((function(){return[U]})),_:1}),Object(o["createVNode"])(p,{icon:"circle-check",type:"primary",onClick:a.handleSave},{default:Object(o["withCtx"])((function(){return[q]})),_:1},8,["onClick"])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{modelValue:r.tabName,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.tabName=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{label:"JSON",name:"JSON233"},{label:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("span",null,[A,Object(o["createVNode"])(d,{placement:"right"},{content:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("pre",null,Object(o["toDisplayString"])(r.tempJson),1)]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l)]})),_:1})]})),_:1})])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.jsonValue,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.jsonValue=e})},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(s,{label:"JSON-SCHEMA",name:"JSON-SCHEMA"},{label:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("span",null,[D,Object(o["createVNode"])(d,{placement:"right"},{content:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("pre",null,Object(o["toDisplayString"])(r.tempJsonSchema),1)]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l)]})),_:1})]})),_:1})])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:r.jsonSchemaValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.jsonSchemaValue=e})},null,8,["modelValue"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["model-value","onOpen"])])}n("fb6a"),n("ac1f"),n("5319");function $(e,t,n,c,r,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{ref:"container",class:"monaco-editor",style:Object(o["normalizeStyle"])("height: ".concat(n.height,"px"))},null,4)}n("a9e3");var M=n("c2c6"),R={name:"CtMonacoEditor",props:{modelValue:{type:[String],default:function(){return""}},opts:{type:Object,default:function(){return{}}},height:{type:Number,default:250}},data:function(){return{defaultOpts:{readOnly:!1,language:"json",value:"",theme:"vs-dark",roundedSelection:!1,autoIndent:!0,automaticLayout:!0,foldingStrategy:"indentation",minimap:{enabled:!1}}}},watch:{opts:{handler:function(e){this.init()},deep:!0}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.$refs.container.innerHTML="",this.editorOptions=Object.assign(this.defaultOpts,this.opts),this.monacoEditor=M["editor"].create(this.$refs.container,this.editorOptions),this.monacoEditor.onDidChangeModelContent((function(){e.$emit("update:modelValue",e.monacoEditor.getValue())}))}}};const P=x()(R,[["render",$]]);var I=P,H={name:"jsonDialog",components:{CtMonacoEditor:I},props:{visible:{type:Boolean,default:!1}},emits:["saveJsonSchema"],data:function(){return{tabName:"JSON233",jsonValue:"",jsonSchemaValue:"",tempJson:'示例:\n  {\n      "id": 2,\n      "name": "张三",\n      "someObj": {\n          "age": 18\n      },\n      "someArr": [1,2,3]\n  }',tempJsonSchema:'示例:\n  {\n      "$schema": "http://json-schema.org/draft-04/schema#",\n      "title": "Product",\n      "description": "A product from Acme\'s catalog",\n      "type": "object",\n      "properties": {\n          "id": {\n              "description": "The unique identifier for a product",\n              "type": "integer"\n          },\n          "name": {\n              "description": "Name of the product",\n              "type": "string"\n          },\n          "price": {\n              "type": "number",\n              "minimum": 0,\n              "exclusiveMinimum": true\n          }\n      },\n      "required": ["id", "name", "price"]\n  }'}},methods:{open:function(){this.tabName="JSON233"},handleJson:function(e){var t={},n=this.jsonToSchema({root:e},t);return n["root"]},jsonToSchema:function(e,t){var n=this;return Object.keys(e).forEach((function(o){var c=Object.prototype.toString.call(e[o]).slice(8,-1).toLowerCase();if(t[o]={},t[o]["type"]=c,"object"===c&&(t[o]["properties"]=n.jsonToSchema(e[o],{}),t[o]["required"]=[]),"array"===c){var r="string";e[o].length>0&&(r=Object.prototype.toString.call(e[o][0]).slice(8,-1).toLowerCase()),t[o]["items"]={type:r}}})),t},handleSave:function(){"JSON233"===this.tabName?j(this.jsonValue)?(this.$emit("closed"),this.$emit("saveJsonSchema",this.handleJson(JSON.parse(this.jsonValue.replace(/\s+/g,""))))):this.$message.warning("json数据格式有误"):j(this.jsonSchemaValue)?(this.$emit("closed"),this.$emit("saveJsonSchema",JSON.parse(this.jsonSchemaValue.replace(/\s+/g,"")))):this.$message.warning("json数据格式有误")}}};n("d3e7");const F=x()(H,[["render",L]]);var z=F,Z={name:"JsonSchemaEditorRich",components:{JsonDialog:z,JsonSchemaEditor:J},props:{modelValue:{type:Object,default:function(){}}},data:function(){return{myValue:{},dialogVisible:!1,jsonSchemaVisible:1}},watch:{myValue:{handler:function(e){e&&this.$emit("update:modelValue",m(e))},deep:!0}},created:function(){this.modelValue&&(this.myValue=m(this.modelValue))},methods:{saveJsonSchema:function(e){this.myValue=e,this.jsonSchemaVisible++},handlePreview:function(e){var t=this,n=m(e),o={};return n["properties"]&&Object.keys(n["properties"]).forEach((function(e){var c=n["properties"][e];o[e]=t.handleType(c.type),c["properties"]&&(o[e]=t.handlePreview(c))})),o},handleType:function(e){var t=null;return"object"===e&&(t={}),"array"===e&&(t=[]),"string"===e&&(t=""),"number"===e&&(t=0),"integer"===e&&(t=0),"boolean"===e&&(t=!1),t}}};const G=x()(Z,[["render",b]]);var K=G,Q={name:"App",components:{JsonSchemaEditorRich:K},data:function(){return{examples:{$schema:"http://json-schema.org/draft-07/schema#",$id:"http://example.com/product.schema.json",title:"Product",description:"A product from Acme's catalog",type:"object",properties:{productId:{description:"The unique identifier for a product",type:"integer"},productName:{description:"Name of the product",type:"string"},price:{description:"The price of the product",type:"number",exclusiveMinimum:0},tags:{description:"Tags for the product",type:"array",items:{type:"string"},minItems:1,uniqueItems:!0},dimensions:{type:"object",properties:{length:{type:"number"},width:{type:"number"},height:{type:"number"}},required:["length","width","height"]}},required:["productId","productName","price"]}}}};n("8223"),n("e2f6");const W=x()(Q,[["render",d],["__scopeId","data-v-a055039a"]]);var X=W,Y=n("1ed2"),ee=Object(o["createApp"])(X);for(var te in Y)ee.component(te,Y[te]);ee.use(c["a"],{size:"small"}),ee.mount("#app")},"600d":function(e,t,n){},"6ad9":function(e,t,n){},8223:function(e,t,n){"use strict";n("6ad9")},a658:function(e,t,n){"use strict";n("600d")},b53b:function(e,t,n){},d3e7:function(e,t,n){"use strict";n("56ac")},e2f6:function(e,t,n){"use strict";n("b53b")}});